{"version":3,"sources":["components/ExperienceForm/styles.js","utils/createPost.js","components/ExperienceForm/index.js","pages/ExperienceCreation/index.js"],"names":["ExpCreationContainer","styled","section","media","tablet","spacing","space2","mobile","Inputs","div","MainInputs","fonts","h3","space3","space1","ExpForm","form","family","p","border","borderRadiusSmall","shadows","innerSoftShadow","Rating","colors","titleColor","outsideSoftShadow","h2","backgroundColor","Pics","textShadow","Dropdown","select","outsideShadow","secondaryBackgroundColor","desktop","bold","innerShadow","SubmitButtons","URL","createPost","token","a","fetch","method","mode","headers","Authorization","body","JSON","stringify","response","ExperienceForm","dispatch","useDispatch","mousePosition","useGetMousePosition","tags","useFetchData","useState","rating","setrating","useSelector","state","userReducer","userData","_id","user","country","location","duration","setForm","history","useHistory","handleChange","e","target","name","value","handleSubmit","preventDefault","status","showIndicator","message","setIndicatorPosition","setSelection","push","useEffect","onSubmit","type","required","placeholder","onChange","map","tag","tagname","Rate","rate","htmlFor","image","src","alt","pic","accept","id","createObjectURL","files","maxLength","onClick","main","Hero","Footer"],"mappings":"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","file":"static/js/3.70ebe36e.chunk.js","sourcesContent":["// ------------------------------ import libraries\nimport styled from 'styled-components';\n// ------------------------------ import variables\nimport {\n  colors,\n  spacing,\n  border,\n  shadows,\n  fonts,\n} from '../../global-styles/Variables';\n\nimport { media } from '../../global-styles/MediaQueries';\n\n// ------------------------------------ COMPONENTS ------------------------------------//\nexport const ExpCreationContainer = styled.section`\n  display: flex;\n  flex-direction: column;\n  max-width: 1024px;\n  margin: 0 auto;\n\n  ${media.tablet} {\n    margin-top: ${spacing.space2};\n    width: 90%;\n  }\n\n  ${media.mobile} {\n    width: 80%;\n  }\n`;\n\nexport const Inputs = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  ${media.tablet} {\n    flex-direction: column;\n  }\n`;\n\nexport const MainInputs = styled.div`\n  width: 50%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n\n  ${media.tablet} {\n    width: 100%;\n  }\n\n  input {\n    font-size: ${fonts.h3};\n    width: 100%;\n    align-self: flex-start;\n\n    ${media.tablet} {\n      margin: ${spacing.space3} 0;\n    }\n\n    &:first-child {\n      ${media.mobile} {\n        margin: ${spacing.space1} 0;\n      }\n    }\n  }\n`;\n\nexport const ExpForm = styled.form`\n  textarea {\n    width: 100%;\n    height: 300px;\n    margin-top: ${spacing.space3};\n    padding: ${spacing.space2};\n    font-family: ${fonts.family};\n    font-size: ${fonts.p};\n    border: ${border.border};\n    border-radius: ${border.borderRadiusSmall};\n    box-shadow: ${shadows.innerSoftShadow};\n    outline: none;\n  }\n`;\n\nexport const Rating = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  align-self: flex-end;\n  padding: 0 ${spacing.space2};\n  background-color: ${colors.titleColor};\n  border-radius: ${border.borderRadiusSmall};\n  box-shadow: ${shadows.outsideSoftShadow};\n\n  p {\n    font-size: ${fonts.h2};\n    color: ${colors.backgroundColor};\n    margin-right: ${spacing.space2};\n\n    ${media.mobile} {\n      margin-right: ${spacing.space1};\n      font-size: ${fonts.h3};\n    }\n  }\n`;\n\nexport const Pics = styled.div`\n  display: grid;\n  place-items: center;\n  width: 400px;\n  height: 300px;\n  border-radius: ${border.borderRadiusSmall};\n  box-shadow: ${shadows.innerSoftShadow};\n  overflow: hidden;\n\n  ${media.tablet} {\n    width: 100%;\n    margin-top: ${spacing.space3};\n  }\n\n  img[pic] {\n    margin-left: 5%;\n    width: 90%;\n    height: 95%;\n    object-fit: cover;\n    border-radius: ${border.borderRadiusSmall};\n    box-shadow: ${shadows.textShadow};\n\n    ${media.tablet} {\n      height: 250px;\n    }\n  }\n\n  input {\n    display: none;\n  }\n`;\n\nexport const Dropdown = styled.select`\n  width: 30%;\n  padding: ${spacing.space1};\n  padding-left: ${spacing.space1};\n  font-size: ${fonts.p};\n  border-radius: ${border.borderRadiusSmall};\n  border: ${border.border};\n  box-shadow: ${shadows.outsideShadow};\n  background: ${colors.secondaryBackgroundColor};\n  outline: none;\n  transition: box-shadow 0.3s;\n\n  ${media.desktop} {\n    width: 45%;\n    margin: ${spacing.space2} 0;\n  }\n\n  ${media.mobile} {\n    width: 100%;\n  }\n\n  &:focus {\n    font-weight: ${fonts.bold};\n    box-shadow: ${shadows.innerShadow};\n  }\n\n  option {\n    background: ${colors.backgroundColor};\n  }\n`;\n\nexport const SubmitButtons = styled.div`\n  text-align: center;\n  margin-top: ${spacing.space2};\n\n  ${media.desktop} {\n    margin: ${spacing.space2} 0;\n  }\n`;\n","const URL = 'https://cozyplace.herokuapp.com/api/post/create';\n\nexport async function createPost(form, token) {\n  const response = await fetch(URL, {\n    method: 'POST',\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(form),\n  });\n  return response;\n}\n","// ------------------------------ import libraries\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\n// ------------------------------ import components\nimport { Rate } from '../Rate';\nimport { Icon } from '../Icons';\nimport { Button } from '../../global-styles/Buttons';\nimport { InputText, InputDate } from '../../global-styles/Inputs';\nimport { useGetMousePosition } from '../../hooks/useGetMousePosition';\n\n// ------------------------------ import styles and images\nimport {\n  ExpCreationContainer,\n  ExpForm,\n  Rating,\n  Dropdown,\n  Pics,\n  Inputs,\n  MainInputs,\n  SubmitButtons,\n} from './styles';\n\n// -------- import redux actions\nimport { createPost } from '../../utils/createPost';\nimport { useFetchData } from '../../hooks/useFetchData';\nimport {\n  showIndicator,\n  setIndicatorPosition,\n} from '../../actions/experiencesActions';\nimport { setSelection } from '../../actions/userActions';\n\n// ------------------------------------ COMPONENT ------------------------------------//\nexport const ExperienceForm = () => {\n  const dispatch = useDispatch();\n  const mousePosition = useGetMousePosition();\n\n  const tags = useFetchData(\n    'https://cozyplace.herokuapp.com/api/tag/',\n  );\n  const [rating, setrating] = useState(1);\n  const { token, _id } = useSelector(\n    (state) => state.userReducer.userData,\n  );\n  const [form, setForm] = useState({\n    user: _id,\n    country: 'Mexico',\n    location: 'Cancun',\n    duration: '30 Min',\n    tags: '5f9b54d3217dd209f45ecc55',\n  });\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleFile = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: URL.createObjectURL(e.target.files[0]),\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const response = await createPost(form, token);\n    if (response.status === 200) {\n      dispatch(\n        showIndicator({\n          status: true,\n          message: 'Experience Successfully Created 🎉',\n        }),\n      );\n      dispatch(setIndicatorPosition(mousePosition));\n      dispatch(setSelection('favorites'));\n\n      history.push('/user');\n    } else if (response.status === 400) {\n      dispatch(\n        showIndicator({\n          status: true,\n          message: 'Missing data, fill in all the fields ❌',\n        }),\n      );\n      dispatch(setIndicatorPosition(mousePosition));\n    }\n  };\n\n  useEffect(() => {\n    setForm({ ...form, rating });\n  }, [rating]);\n\n  return (\n    <ExpCreationContainer>\n      <h2>Create your experience</h2>\n      <ExpForm onSubmit={handleSubmit}>\n        <Inputs>\n          <MainInputs>\n            <InputText\n              type=\"text\"\n              name=\"title\"\n              required=\"required\"\n              placeholder=\"Create Name of the Experience\"\n              onChange={handleChange}\n            />\n            <Dropdown name=\"country\" onChange={handleChange}>\n              <option value=\"Mexico\">Mexico</option>\n              <option value=\"Colombia\">Colombia</option>\n            </Dropdown>\n            <Dropdown name=\"location\" onChange={handleChange}>\n              <option value=\"Mexico\">Cancun</option>\n              <option value=\"Mexico\">Guadalajara</option>\n              <option value=\"Mexico\">Mexico City</option>\n              <option value=\"Mexico\">Monterrey</option>\n              <option value=\"Mexico\">Merida</option>\n              <option value=\"Mexico\">Oaxaca</option>\n              <option value=\"Mexico\">Puebla</option>\n              <option value=\"Mexico\">Queretaro</option>\n              <option value=\"Medellin\">Barranquilla</option>\n              <option value=\"Bogota\">Bogota</option>\n              <option value=\"Medellin\">Bucaramanga</option>\n              <option value=\"Medellin\">Cali</option>\n              <option value=\"Medellin\">Cartagena</option>\n              <option value=\"Medellin\">Medellin</option>\n              <option value=\"Medellin\">Santa Marta</option>\n            </Dropdown>\n            <Dropdown name=\"tags\" onChange={handleChange}>\n              {tags.map((tag) => (\n                <option key={tag._id} value={tag._id}>\n                  {tag.tagname}\n                </option>\n              ))}\n            </Dropdown>\n            <Dropdown name=\"duration\" onChange={handleChange}>\n              <option value=\"30 Min\">30 Min</option>\n              <option value=\"1 Hour\">1 Hour</option>\n              <option value=\"1.5 Hour\">1.5 Hour</option>\n              <option value=\"2 Hour\">2 Hour</option>\n              <option value=\"2.5 Hour\">2.5 Hour</option>\n              <option value=\"3 Hour\">3 Hour</option>\n              <option value=\"3.5 Hour\">3.5 Hour</option>\n              <option value=\"4 Hour\">4 Hour</option>\n              <option value=\"4.5 Hour\">4.5 Hour</option>\n              <option value=\"4.5 Hour\">1 Day</option>\n              <option value=\"4.5 Hour\">2 Days</option>\n              <option value=\"4.5 Hour\">3 Days</option>\n              <option value=\"4.5 Hour\">4 Days</option>\n            </Dropdown>\n            <InputDate\n              type=\"date\"\n              name=\"date\"\n              onChange={handleChange}\n              required=\"required\"\n            />\n            <Rating>\n              <p>Rating Stars</p>\n              <Rate setrating={setrating} rate={rating} />\n            </Rating>\n          </MainInputs>\n          <Pics>\n            <label htmlFor=\"image\">\n              {form.image ? (\n                <img\n                  src={form.image}\n                  alt=\"this is your experience\"\n                  pic=\"true\"\n                />\n              ) : (\n                <Icon type=\"plus\" />\n              )}\n              <input\n                type=\"file\"\n                name=\"image\"\n                accept=\"image/jpg,png\"\n                id=\"image\"\n                onChange={handleFile}\n              />\n            </label>\n          </Pics>\n        </Inputs>\n        <textarea\n          name=\"description\"\n          maxLength=\"1500\"\n          placeholder=\"Create you description\"\n          onChange={handleChange}\n          required=\"required\"\n        />\n        <SubmitButtons>\n          <Button name=\"cancel\" onClick={() => history.push('/user')}>\n            Cancelar\n          </Button>\n          <Button main type=\"submit\">\n            Crear\n          </Button>\n        </SubmitButtons>\n      </ExpForm>\n    </ExpCreationContainer>\n  );\n};\n","// ------------------------------ import libraries\nimport React from 'react';\n\n// ------------------------------ import components\nimport { Hero } from '../../components/Hero';\nimport { ExperienceForm } from '../../components/ExperienceForm';\nimport { Footer } from '../../components/Footer';\nimport { ResulIndicator } from '../../components/ResultIndicator';\n\n// ------------------------------------ COMPONENT ------------------------------------//\n// description of the component.\nexport default () => {\n  return (\n    <>\n      <ResulIndicator />\n      <Hero />\n      <ExperienceForm />\n      <Footer />\n    </>\n  );\n};\n"],"sourceRoot":""}